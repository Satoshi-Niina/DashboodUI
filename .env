# ========================================
# Cloud SQL接続設定 (Google Cloud Platform)
# ========================================
# プロジェクト: maint-vehicle-management
# インスタンス: free-trial-first-project
# リージョン: asia-northeast2
# ローカルからCloud SQL Proxy経由で接続
# ========================================

 プロジェクトID（Google Cloud Console で確認）
GOOGLE_CLOUD_PROJECT_ID=maint-vehicle-management

# Gemini API キー（AI チャット機能で使用）
GOOGLE_GEMINI_API_KEY=AIzaSyCQa-KuQgbUlpJd1GHtNyf1PuOOWQIuF0M

# Gemini モデルバージョン（最新の安定版）
# 利用可能なモデル: gemini-1.5-pro, gemini-1.5-flash, gemini-2.0-flash-exp
# 注意: -latestサフィックスはv1beta APIではサポートされていません
GEMINI_MODEL=gemini-2.0-flash-exp

# サービスアカウントキー（ストレージアクセス用）
# プロジェクトルートに emergency-assistanceapp.json を配置
GOOGLE_APPLICATION_CREDENTIALS=C:/Users/Satoshi Niina/OneDrive/Desktop/system/Emergency-Assistance-google/maint-vehicle-management-40deb3737877.json
# ローカル開発では Application Default Credentials を使用

# ===================================
# 2. ストレージ設定
# ===================================
# ストレージモード:
# - local: ローカルフォルダ使用 (knowledge-base/ ディレクトリ)
# - gcs: Google Cloud Storage 使用（推奨）
STORAGE_MODE=gcs

# Google Cloud Storage バケット名
GOOGLE_CLOUD_STORAGE_BUCKET=maint-vehicle-management-storage

# ローカル開発環境フラグ（ai-context検索制御用）
# true: ファイルインポート時に自動的にチャンク化処理を実行
# false: 本番環境と同じ動作（手動トリガーが必要）
LOCAL_DEV=true

# ローカルストレージのパス（STORAGE_MODE=local の場合のみ使用）
# LOCAL_STORAGE_PATH=./knowledge-base

# ===================================
# 3. データベース設定
# ===================================
# 形式: postgresql://ユーザー名:パスワード@ホスト:ポート/データベース名?options=-c%20search_path=スキーマ名
# Cloud SQL Proxy経由で接続（推奨） - master_dataスキーマを使用
DATABASE_URL=postgresql://postgres:Takabeni@localhost:55432/webappdb?sslmode=disable&options=-c%20search_path=master_data
# 直接接続（ファイアウォール設定が必要）
# DATABASE_URL=postgresql://postgres:Takabeni@34.97.56.82:55432/webappdb?sslmode=disable&options=-c%20search_path=master_data

# ===================================
# 4. セッション設定
# ===================================
# セッション暗号化キー
# ⚠️ 本番環境では必ず長くランダムな文字列に変更してください
SESSION_SECRET=your-secret-key-here-change-in-production

# ===================================
# 5. ローカル開発環境：認証スキップ設定
# ===================================
# セーフモード（認証をスキップして開発可能）
# true: JWT認証チェックをスキップ（ログインは通常通り必要）
# false: 通常の認証フロー（本番環境と同じ）
SAFE_MODE=true

# JWTバイパス（JWT認証をスキップ）
BYPASS_JWT=true

